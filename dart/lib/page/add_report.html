<core-drawer-panel id="drawerPanel">
    <core-header-panel main>
    	<core-toolbar>
    	
			<paper-icon-button icon="arrow-back" ng-click="back()"></paper-icon-button>
    	
      		<span flex>New Report</span>
      		
    		<div ng-if="isSubmitable">
    			<paper-fab mini icon="done" class="green" ng-click="submit()"></paper-fab>
			</div>
    	
    	</core-toolbar>
    	
    	<div>
    		<div id="pre" ng-if="!isReady">
    			<div>
					<paper-button id="take" raised ng-click="choosePhoto(true)">TAKE</paper-button>
    			</div>
    			<div>
					<paper-button id="choose" raised ng-click="choosePhoto(false)">CHOOSE</paper-button>
				</div>
    		</div>
    		<div id="input" ng-if="isReady">
		    	<div>
		    		<paper-input-decorator label="Write something to note">
						<paper-autogrow-textarea>
							<textarea ng-model="report.comment"></textarea>
						</paper-autogrow-textarea>
					</paper-input-decorator>
				</div>
			    <div id="photo">
			        <fit-image url="report.photo.reduced.mainview.url" width="photoWidth" height="photoHeight" shrink="true"></fit-image>
			    </div>
			    <div>
			    	<div>
				        <div id="date">
				        	<paper-button raised ng-click="dialogDate()">{{ report.dateAt.toLocal() | date:"EEE, MMM d, yyyy, 'about' h a" }}</paper-button>
				        </div>
			        	<paper-action-dialog id="date-dialog" transition="core-transition-center" backdrop layered autoCloseDisabled>
			        		<style>
			        			paper-shadow {
			        				margin-bottom: 10px;
			        				padding-left: 10px;
			        				padding-right: 10px;
			        				-moz-border-radius: 3px;
			        				-webkit-border-radius: 3px;
			        				border-radius: 3px;
			        			}
			        		</style>
			        		
			        		<paper-shadow z="1">
			        			<about-oclock value="tmpOclock"></about-oclock>
		        			</paper-shadow>
			        		
			        		<br>
			        		
			        		<paper-shadow z="1">
			        			<calendar value="tmpDate" start-of-week="1"></calendar>
		        			</paper-shadow>
			        		
			        		<paper-button dismissive style="color: red">Cancel</paper-button>
			        		<paper-button affirmative style="color: green" ng-click="commitCalendar()">OK</paper-button>
			        	</paper-action-dialog>
		        	</div>
				    <div id="condition">
				    	<div class="weather">
				    		<div ng-if="report.condition.weather.iconUrl == null">
				    			<p>Weather</p>
				    			<paper-spinner active class="red"></paper-spinner>
				    		</div>
				    		<div ng-if="report.condition.weather.iconUrl != null">
					    		<p>{{report.condition.weather.nominal}}</p>
					    		<div class="row">
						    		<img ng-src="{{report.condition.weather.iconUrl}}">
						    		<p>{{report.condition.weather.temperature}}</p>
					    		</div>
				    		</div>
				    	</div>
				    	<div class="tide">
				    		<div ng-if="tideImage == null">
				    			<p>Tide</p>
				    			<paper-spinner active class="blue"></paper-spinner>
				    		</div>
				    		<div ng-if="tideImage != null">
					    		<p>{{tideName}}</p>
				    			<img ng-src="{{tideImage}}">
				    		</div>
				    	</div>
				    	<div class="moon">
				    		<div ng-if="moonImage == null">
				    			<p>Moon</p>
				    			<paper-spinner active class="green"></paper-spinner>
				    		</div>
				    		<div ng-if="moonImage != null">
					    		<p>Phase: {{report.condition.moon}}</p>
					    		<img ng-src="{{moonImage}}">
					    	</div>
				    	</div>
				    </div>
	        	</div>
			    <div>
			    	<div>
			    		<paper-input-decorator label="Spot Name" floatingLabel>
			    			<input ng-model="report.location.name">
			    		</paper-input-decorator>
			    	</div>
			    	<div ng-click="showMap()">
			    		<div id="google-maps"></div>
			    	</div>
			    </div>
			    <div id="catchess">
			    </div>
    		</div>
    	</div>
    </core-header-panel>
</core-drawer-panel>
